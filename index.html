<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire de Formations Manag√©riales</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: #4ade80;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab:hover {
            background: #f1f5f9;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 40px;
        }

        .tab-content.active {
            display: block;
        }

        .intro-section {
            background: #f8fafc;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .intro-section h2 {
            color: #1e293b;
            margin-bottom: 15px;
        }

        .intro-section ul {
            list-style-position: inside;
            color: #475569;
            line-height: 1.8;
        }

        .bareme-card {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .category-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            margin: 30px -40px 20px;
            font-size: 1.3em;
            font-weight: 600;
            text-align: center;
        }

        .question-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .question-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .question-header {
            display: flex;
            align-items: start;
            margin-bottom: 15px;
        }

        .question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .question-text {
            flex: 1;
            color: #1e293b;
            line-height: 1.6;
            font-size: 1.05em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8fafc;
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
        }

        .option label {
            flex: 1;
            cursor: pointer;
            font-size: 0.95em;
        }

        .option.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-color: #667eea;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .result-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }

        .result-card h3 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .score-display {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .priority-critical {
            background: #fef2f2;
            border-left-color: #ef4444;
        }

        .priority-high {
            background: #fff7ed;
            border-left-color: #f97316;
        }

        .priority-medium {
            background: #fefce8;
            border-left-color: #eab308;
        }

        .priority-low {
            background: #f0fdf4;
            border-left-color: #22c55e;
        }

        .priority-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 10px;
        }

        .badge-critical {
            background: #ef4444;
            color: white;
        }

        .badge-high {
            background: #f97316;
            color: white;
        }

        .badge-medium {
            background: #eab308;
            color: white;
        }

        .badge-low {
            background: #22c55e;
            color: white;
        }

        .formation-description {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.9em;
            color: #475569;
            line-height: 1.6;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            padding: 20px;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #f8fafc;
        }

        .global-score {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .global-score h2 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .global-score .score {
            font-size: 4em;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .category-title {
                margin: 20px -20px 20px;
                font-size: 1.1em;
            }
        }

        .theme-section {
            margin-bottom: 40px;
        }

        .theme-title {
            background: #1e293b;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Questionnaire de Formations Manag√©riales</h1>
            <p>√âvaluez vos pratiques et identifiez vos besoins en formation</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('intro')">üìã Introduction</div>
            <div class="tab" onclick="showTab('questionnaire')">‚úçÔ∏è Questionnaire</div>
            <div class="tab" onclick="showTab('results')">üìä R√©sultats</div>
        </div>

        <!-- ONGLET INTRODUCTION -->
        <div id="intro" class="tab-content active">
            <div class="intro-section">
                <h2>Bienvenue !</h2>
                <p style="margin: 15px 0; color: #475569; line-height: 1.8;">
                    Ce questionnaire vous permet d'√©valuer vos pratiques manag√©riales sur 34 dimensions cl√©s, 
                    regroup√©es en 8 grandes th√©matiques. √Ä l'issue de cette auto-√©valuation, vous obtiendrez 
                    une priorisation personnalis√©e de vos besoins en formation.
                </p>
                <h3 style="color: #1e293b; margin: 20px 0 10px;">üìå Comment √ßa marche ?</h3>
                <ul style="color: #475569; line-height: 1.8;">
                    <li>R√©pondez honn√™tement aux 34 questions</li>
                    <li>Utilisez le bar√®me de notation pour √©valuer votre pratique</li>
                    <li>Obtenez vos scores par formation</li>
                    <li>D√©couvrez vos priorit√©s de d√©veloppement</li>
                </ul>
            </div>

            <h2 style="color: #1e293b; margin: 30px 0 20px;">üìä Bar√®me de notation</h2>
            
            <div class="bareme-card" style="background: #fef2f2; border-left-color: #ef4444;">
                <h3 style="color: #991b1b; margin-bottom: 10px;">‚ùå Jamais ou pas du tout (0 point)</h3>
                <p style="color: #7f1d1d;">Je ne fais jamais ou pas du tout cette pratique.</p>
            </div>

            <div class="bareme-card" style="background: #fff7ed; border-left-color: #f97316;">
                <h3 style="color: #9a3412; margin-bottom: 10px;">‚ö†Ô∏è Rarement ou partiellement (2 points)</h3>
                <p style="color: #7c2d12;">J'essaie de faire cette pratique, mais ce n'est pas r√©gulier ou cela n'est pas complet.</p>
            </div>

            <div class="bareme-card">
                <h3 style="color: #166534; margin-bottom: 10px;">‚úÖ Souvent ou syst√©matiquement (5 points)</h3>
                <p style="color: #14532d;">Cette pratique fait partie int√©grante et r√©guli√®re de ma gestion quotidienne.</p>
            </div>

            <div style="background: #eff6ff; padding: 25px; border-radius: 12px; margin-top: 30px; border-left: 4px solid #3b82f6;">
                <h3 style="color: #1e40af; margin-bottom: 15px;">üí° Conseils pour r√©pondre</h3>
                <ul style="color: #1e3a8a; line-height: 1.8;">
                    <li><strong>Soyez honn√™te avec vous-m√™me</strong> dans vos r√©ponses</li>
                    <li>On ne cherche pas √† √©valuer le manager que vous aimeriez √™tre mais <strong>celui que vous √™tes aujourd'hui</strong></li>
                    <li>Ne r√©pondez pas quelque chose que vous ne sauriez pas prouver</li>
                    <li>Il n'y a aucun jugement, juste un diagnostic pour vous aider</li>
                </ul>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="showTab('questionnaire')">
                    Commencer le questionnaire ‚Üí
                </button>
            </div>
        </div>

        <!-- ONGLET QUESTIONNAIRE -->
        <div id="questionnaire" class="tab-content">
            <div id="questionsContainer"></div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="showTab('intro')">‚Üê Retour</button>
                <button class="btn btn-primary" onclick="calculateResults()">Voir mes r√©sultats ‚Üí</button>
            </div>
        </div>

        <!-- ONGLET R√âSULTATS -->
        <div id="results" class="tab-content">
            <div class="global-score" id="globalScore"></div>
            <div id="resultsContainer"></div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="showTab('questionnaire')">‚Üê Modifier mes r√©ponses</button>
                <button class="btn btn-primary" onclick="exportResults()">üì• Exporter les r√©sultats</button>
            </div>
        </div>
    </div>

    <script>
        // Donn√©es du questionnaire
        const bareme = [
            { label: "Jamais ou pas du tout", points: 0 },
            { label: "Rarement ou partiellement", points: 2 },
            { label: "Souvent ou syst√©matiquement", points: 5 }
        ];

        const questions = [
            { num: "Q1", category: "Organisation Personnelle & Efficience", text: "Je r√©serve du temps r√©gulier (sans interruption) pour planifier, r√©fl√©chir, ou am√©liorer les m√©thodes de travail de l'√©quipe.", formations: ["Manager Efficace", "Organisation Efficace"] },
            { num: "Q2", category: "Organisation Personnelle & Efficience", text: "J'identifie et j'√©limine r√©guli√®rement les t√¢ches ou les contr√¥les qui n'apportent plus de valeur ajout√©e essentielle (principe Lean).", formations: ["Manager Efficace", "Organisation Efficace", "R√©solution Efficace"] },
            { num: "Q3", category: "Organisation Personnelle & Efficience", text: "J'ai une capacit√© suffisante pour g√©rer les impr√©vus et je me sens rarement d√©bord√©(e) par les demandes urgentes de mes collaborateurs ou de mon manager.", formations: ["Manager Efficace", "Organisation Efficace"] },
            { num: "Q4", category: "Organisation Personnelle & Efficience", text: "Ma mission (ou celle de mon √©quipe) est formul√©e en une phrase simple expliquant clairement sa raison d'√™tre dans l'entreprise.", formations: ["Progression Efficace", "Organisation Efficace"] },
            { num: "Q5", category: "Organisation Personnelle & Efficience", text: "Je v√©rifie mes indicateurs de performance cl√©s (chiffres ou r√©alisations) avec une fr√©quence √©lev√©e (au moins une fois par semaine).", formations: ["Progression Efficace", "Pilotage Efficace"] },
            { num: "Q6", category: "Objectifs et priorisation", text: "Je d√©finis un maximum de 5 objectifs clairs et mesurables pour mon √©quipe sur une p√©riode limit√©e (environ 90 jours).", formations: ["Progression Efficace", "Pilotage Efficace", "Ex√©cution Efficace"] },
            { num: "Q7", category: "Objectifs et priorisation", text: "Je m'assure que chaque objectif fix√© pour l'√©quipe est associ√© √† un syst√®me de mesure (un chiffre ou une r√©alisation concr√®te).", formations: ["Progression Efficace", "Pilotage Efficace", "Ex√©cution Efficace"] },
            { num: "Q8", category: "Objectifs et priorisation", text: "Je fais une revue hebdomadaire des actions de l'√©quipe pour m'assurer que chacun sait \"Qui fait Quoi pour Quand\" et pour garantir l'alignement.", formations: ["Pilotage Efficace", "Ex√©cution Efficace", "CDP Efficace"] },
            { num: "Q9", category: "Objectifs et priorisation", text: "Si nous rencontrons des obstacles, je change le plan d'action (le \"comment\") pour 30 jours, mais je maintiens l'objectif initial (le \"quoi\").", formations: ["Pilotage Efficace", "Ex√©cution Efficace"] },
            { num: "Q10", category: "R√©solution de Probl√®mes & Am√©lioration Continue", text: "Face √† un probl√®me r√©current, je m√®ne une enqu√™te structur√©e pour identifier la cause racine (par exemple, en me posant la question 'pourquoi' plusieurs fois).", formations: ["D√©cision Efficace", "R√©solution Efficace"] },
            { num: "Q11", category: "R√©solution de Probl√®mes & Am√©lioration Continue", text: "J'anime la r√©solution de probl√®mes en utilisant des supports visuels (dessins, graphiques) et des donn√©es chiffr√©es plut√¥t que des impressions (\"souvent\", \"trop\").", formations: ["R√©solution Efficace"] },
            { num: "Q12", category: "R√©solution de Probl√®mes & Am√©lioration Continue", text: "Quand un collaborateur me pr√©sente un probl√®me, mon r√©flexe est de lui demander de proposer d'abord une solution ou une piste d'action.", formations: ["D√©cision Efficace", "CDP Efficace"] },
            { num: "Q13", category: "R√©solution de Probl√®mes & Am√©lioration Continue", text: "Pour prendre une d√©cision importante et complexe, je consulte mes collaborateurs individuellement et par √©crit pour recueillir leurs analyses sans les influencer.", formations: ["D√©cision Efficace"] },
            { num: "Q14", category: "R√©solution de Probl√®mes & Am√©lioration Continue", text: "Je suis √† l'aise avec l'id√©e d'abandonner rapidement un plan d'action ou un projet qui ne donne pas de r√©sultats ou qui s'enlise, m√™me si j'y ai mis de l'√©nergie.", formations: ["D√©cision Efficace", "R√©solution Efficace"] },
            { num: "Q15", category: "Relation Collaborateur & Communication", text: "J'organise des rencontres individuelles r√©guli√®res (au moins une fois toutes les deux semaines) avec chaque membre de mon √©quipe.", formations: ["Manager Efficace", "Communication Efficace", "Charisme Efficace"] },
            { num: "Q16", category: "Relation Collaborateur & Communication", text: "Au d√©but de ces √©changes individuels, je laisse la personne parler en premier de ses sujets, sans l'interrompre ni orienter.", formations: ["Manager Efficace", "Communication Efficace", "Charisme Efficace"] },
            { num: "Q17", category: "Relation Collaborateur & Communication", text: "J'adapte mon style de communication, mon approche et ma reconnaissance (en public ou en priv√©) en fonction de chaque personne.", formations: ["CDP Efficace", "Communication Efficace", "Charisme Efficace"] },
            { num: "Q18", category: "Relation Collaborateur & Communication", text: "Je suis vigilant(e) aux signaux qui indiquent un conflit potentiel (tension relationnelle, difficult√© de communication, baisse d'engagement) et j'agis tr√®s t√¥t.", formations: ["CDP Efficace", "Communication Efficace", "Charisme Efficace"] },
            { num: "Q19", category: "Relation Collaborateur & Communication", text: "Lors d'un projet, je suis attentif √† mettre en avant les personnes dont les forces sont les plus adapt√©es, plut√¥t que d'attribuer la t√¢che √† la personne disponible.", formations: ["CDP Efficace", "Communication Efficace", "Charisme Efficace"] },
            { num: "Q20", category: "Performance, Feedback & Culture", text: "Je donne imm√©diatement ou tr√®s rapidement un retour d'information pr√©cis et factuel √† mes collaborateurs lorsqu'ils ont bien ou mal agi.", formations: ["Manager Efficace", "Culture Efficace", "Entretien Efficace", "Recrutement Efficace"] },
            { num: "Q21", category: "Performance, Feedback & Culture", text: "Je note activement les comportements de mes collaborateurs qui renforcent ou nuisent √† la coh√©sion et aux r√©sultats (bonnes ou mauvaises pratiques observables).", formations: ["Culture Efficace", "Entretien Efficace", "Recrutement Efficace"] },
            { num: "Q22", category: "Performance, Feedback & Culture", text: "Lors de l'√©valuation, je juge mes collaborateurs sur leurs R√©sultats ET sur leurs Comportements (R√©trospective + Contribution Culturelle).", formations: ["Manager Efficace", "Culture Efficace", "Entretien Efficace", "Recrutement Efficace"] },
            { num: "Q23", category: "Performance, Feedback & Culture", text: "Je m'assure que mon √©valuation et celle de mon collaborateur sont align√©es; si un √©cart existe, nous en discutons clairement en entretien.", formations: ["Manager Efficace", "Entretien Efficace", "Recrutement Efficace"] },
            { num: "Q24", category: "Performance, Feedback & Culture", text: "Je suis convaincu(e) qu'il est impossible de trop communiquer de mani√®re honn√™te et ouverte sur la performance et les comportements dans mon √©quipe.", formations: ["Manager Efficace", "Culture Efficace"] },
            { num: "Q25", category: "D√©l√©gation, Autonomie & Coaching", text: "Je d√©l√®gue des t√¢ches complexes ou risqu√©es et je laisse l'autonomie totale √† mon collaborateur sur le \"comment\" accomplir la mission.", formations: ["Manager Efficace"] },
            { num: "Q26", category: "D√©l√©gation, Autonomie & Coaching", text: "Je ne me laisse pas rendre du travail (\"d√©l√©gation invers√©e\") par mes collaborateurs qui me demandent de r√©soudre leurs probl√®mes.", formations: ["Manager Efficace"] },
            { num: "Q27", category: "D√©l√©gation, Autonomie & Coaching", text: "Je m'appuie sur les forces et les r√©ussites pass√©es de mes collaborateurs pour fixer leurs objectifs et orienter mes feedbacks.", formations: ["Manager Efficace", "Entretien Efficace"] },
            { num: "Q28", category: "D√©l√©gation, Autonomie & Coaching", text: "Quand un collaborateur a besoin de se d√©velopper, je lui propose des ressources (formation, mentor, lecture) ou je lui donne des opportunit√©s pour apprendre.", formations: ["Manager Efficace", "Entretien Efficace"] },
            { num: "Q29", category: "D√©l√©gation, Autonomie & Coaching", text: "Je suis vigilant(e) √† ce que les d√©fis que je fixe √† mes collaborateurs correspondent √† leurs comp√©tences actuelles + 10%, pour √©viter la routine ou l'√©chec.", formations: ["Entretien Efficace"] },
            { num: "Q30", category: "Acquisition & Gestion des Talents", text: "Avant de recruter pour un poste vacant ou nouveau, j'examine syst√©matiquement si les missions peuvent √™tre redistribu√©es dans l'√©quipe.", formations: ["Recrutement Efficace"] },
            { num: "Q31", category: "Acquisition & Gestion des Talents", text: "Je r√©dige la description de poste id√©ale en listant les comportements observables et les attitudes n√©cessaires (pas seulement les comp√©tences techniques).", formations: ["Culture Efficace", "Recrutement Efficace"] },
            { num: "Q32", category: "Acquisition & Gestion des Talents", text: "Lors des entretiens, je pose principalement des questions qui demandent au candidat de raconter une situation concr√®te et pass√©e (questions comportementales).", formations: ["Recrutement Efficace"] },
            { num: "Q33", category: "Acquisition & Gestion des Talents", text: "Je suis en permanence √† la recherche de raisons factuelles de ne pas recruter un candidat, m√™me si je l'appr√©cie personnellement.", formations: ["Recrutement Efficace"] },
            { num: "Q34", category: "Acquisition & Gestion des Talents", text: "Je fais participer plusieurs membres de mon √©quipe √† la phase d'entretien pour obtenir une √©valuation multicrit√®res et √©viter mes biais personnels.", formations: ["Manager Efficace", "Recrutement Efficace"] }
        ];

        const formations = {
            "Manager Efficace": {
                description: "Manager Efficace pose les fondations d'un management bas√© sur le pouvoir relationnel. Vous mettez en place le 1 √† 1 hebdomadaire, qui est la pierre angulaire de tout votre syst√®me de management. Vous apprenez les quatre outils fondamentaux : le 1 √† 1, le feedback, la d√©l√©gation et le coaching.",
                theme: "CR√âER UN SYST√àME"
            },
            "Progression Efficace": {
                description: "D√©finir des objectifs clairs et mesurables, suivre la progression de l'√©quipe et ajuster les plans d'action pour garantir l'atteinte des r√©sultats.",
                theme: "S'ORGANISER"
            },
            "Organisation Efficace": {
                description: "Optimiser votre temps et celui de votre √©quipe, √©liminer les t√¢ches sans valeur ajout√©e et g√©rer efficacement les impr√©vus.",
                theme: "S'ORGANISER"
            },
            "Pilotage Efficace": {
                description: "Mettre en place un syst√®me coh√©rent de gestion par objectifs bas√© sur un rythme de 90 jours avec des r√©unions Strat√©giques, Tactiques et de Terrain.",
                theme: "CR√âER UN SYST√àME"
            },
            "D√©cision Efficace": {
                description: "Prendre des d√©cisions √©clair√©es en consultant vos collaborateurs, analyser les probl√®mes en profondeur et savoir abandonner ce qui ne fonctionne pas.",
                theme: "EXECUTER"
            },
            "R√©solution Efficace": {
                description: "Identifier les causes racines des probl√®mes, utiliser des approches structur√©es et des donn√©es pour r√©soudre efficacement les difficult√©s r√©currentes.",
                theme: "EXECUTER"
            },
            "Ex√©cution Efficace": {
                description: "Transformer les objectifs en actions concr√®tes, assurer le suivi r√©gulier et garantir que chacun sait \"Qui fait Quoi pour Quand\".",
                theme: "EXECUTER"
            },
            "CDP Efficace": {
                description: "D√©velopper vos comp√©tences de chef de projet : adapter votre communication, d√©tecter les tensions, mobiliser les forces de chacun sur les projets.",
                theme: "CR√âER UN SYST√àME"
            },
            "Communication Efficace": {
                description: "√âtablir des relations de qualit√© avec vos collaborateurs, adapter votre style de communication et cr√©er un climat de confiance.",
                theme: "COMMUNIQUER"
            },
            "Charisme Efficace": {
                description: "D√©velopper votre influence et votre leadership, inspirer vos √©quipes et renforcer votre pouvoir relationnel.",
                theme: "COMMUNIQUER"
            },
            "Culture Efficace": {
                description: "D√©finir et promouvoir les comportements attendus, √©valuer la contribution culturelle de chacun et construire une culture d'√©quipe forte.",
                theme: "CR√âER UN SYST√àME"
            },
            "Entretien Efficace": {
                description: "Transformer l'√©valuation annuelle en outil de coaching, √©viter les biais, structurer vos √©valuations bas√©es sur les objectifs et les comportements.",
                theme: "EXECUTER"
            },
            "Recrutement Efficace": {
                description: "Recruter les bons talents en d√©finissant les comportements recherch√©s, poser les bonnes questions en entretien et √©viter les biais de recrutement.",
                theme: "EXECUTER"
            }
        };

        let responses = {};

        // Initialisation
        function init() {
            renderQuestions();
            updateProgress();
        }

        // Afficher les questions
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            let currentCategory = null;
            let html = '';

            questions.forEach((q, index) => {
                if (q.category !== currentCategory) {
                    currentCategory = q.category;
                    html += `<div class="category-title">${currentCategory}</div>`;
                }

                html += `
                    <div class="question-card">
                        <div class="question-header">
                            <div class="question-number">${q.num.replace('Q', '')}</div>
                            <div class="question-text">${q.text}</div>
                        </div>
                        <div class="options">
                            ${bareme.map((option, optIndex) => `
                                <div class="option" id="option-${index}-${optIndex}" onclick="selectOption('${q.num}', ${option.points}, ${index}, ${optIndex})">
                                    <input type="radio" name="${q.num}" id="${q.num}-${optIndex}" value="${option.points}">
                                    <label for="${q.num}-${optIndex}">
                                        <strong>${option.label}</strong> (${option.points} ${option.points === 1 ? 'point' : 'points'})
                                    </label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // S√©lectionner une option
        function selectOption(questionNum, points, questionIndex, optionIndex) {
            responses[questionNum] = points;
            
            // Mettre √† jour l'interface
            document.querySelectorAll(`.option[id^="option-${questionIndex}-"]`).forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById(`option-${questionIndex}-${optionIndex}`).classList.add('selected');
            document.getElementById(`${questionNum}-${optionIndex}`).checked = true;
            
            updateProgress();
        }

        // Mettre √† jour la barre de progression
        function updateProgress() {
            const answered = Object.keys(responses).length;
            const total = questions.length;
            const percentage = (answered / total) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // Calculer les r√©sultats
        function calculateResults() {
            const answered = Object.keys(responses).length;
            if (answered < questions.length) {
                alert(`Veuillez r√©pondre √† toutes les questions (${answered}/${questions.length} r√©pondues)`);
                return;
            }

            // Calculer le score par formation
            const formationScores = {};
            const formationMaxScores = {};

            // Initialiser les compteurs
            Object.keys(formations).forEach(formation => {
                formationScores[formation] = 0;
                formationMaxScores[formation] = 0;
            });

            // Parcourir les questions et calculer les scores
            questions.forEach(q => {
                const score = responses[q.num] || 0;
                q.formations.forEach(formation => {
                    formationScores[formation] += score;
                    formationMaxScores[formation] += 5; // Score maximum par question
                });
            });

            // Calculer les pourcentages et priorit√©s
            const results = [];
            Object.keys(formations).forEach(formation => {
                const score = formationScores[formation];
                const maxScore = formationMaxScores[formation];
                const percentage = maxScore > 0 ? (score / maxScore) * 100 : 0;
                
                let priority, priorityClass;
                if (percentage < 25) {
                    priority = "Critique";
                    priorityClass = "critical";
                } else if (percentage < 60) {
                    priority = "Elev√©e";
                    priorityClass = "high";
                } else if (percentage < 90) {
                    priority = "Am√©lioration possible";
                    priorityClass = "medium";
                } else {
                    priority = "Comp√©tence √©tablie";
                    priorityClass = "low";
                }

                results.push({
                    formation,
                    score,
                    maxScore,
                    percentage: percentage.toFixed(1),
                    priority,
                    priorityClass,
                    theme: formations[formation].theme,
                    description: formations[formation].description
                });
            });

            // Trier par priorit√© (critique d'abord)
            results.sort((a, b) => {
                const priorityOrder = { "Critique": 0, "Elev√©e": 1, "Am√©lioration possible": 2, "Comp√©tence √©tablie": 3 };
                return priorityOrder[a.priority] - priorityOrder[b.priority];
            });

            displayResults(results);
            showTab('results');
        }

        // Afficher les r√©sultats
        function displayResults(results) {
            const totalScore = Object.values(responses).reduce((a, b) => a + b, 0);
            const maxTotalScore = questions.length * 5;
            const globalPercentage = ((totalScore / maxTotalScore) * 100).toFixed(1);

            document.getElementById('globalScore').innerHTML = `
                <h2>Score Global</h2>
                <div class="score">${totalScore} / ${maxTotalScore}</div>
                <p style="font-size: 1.2em; margin-top: 10px;">${globalPercentage}% de ma√Ætrise globale</p>
            `;

            // Grouper par th√®me
            const byTheme = {};
            results.forEach(r => {
                if (!byTheme[r.theme]) byTheme[r.theme] = [];
                byTheme[r.theme].push(r);
            });

            let html = '';
            Object.keys(byTheme).forEach(theme => {
                html += `
                    <div class="theme-section">
                        <div class="theme-title">${theme}</div>
                        <div class="results-grid">
                            ${byTheme[theme].map(r => `
                                <div class="result-card priority-${r.priorityClass}">
                                    <h3>${r.formation}</h3>
                                    <div class="score-display">${r.percentage}%</div>
                                    <div style="color: #64748b; margin: 10px 0;">
                                        ${r.score} / ${r.maxScore} points
                                    </div>
                                    <div class="priority-badge badge-${r.priorityClass}">
                                        ${r.priority}
                                    </div>
                                    <div class="formation-description">
                                        ${r.description}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            document.getElementById('resultsContainer').innerHTML = html;
        }

        // Changer d'onglet
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Exporter les r√©sultats
        function exportResults() {
            const totalScore = Object.values(responses).reduce((a, b) => a + b, 0);
            const maxTotalScore = questions.length * 5;
            const globalPercentage = ((totalScore / maxTotalScore) * 100).toFixed(1);

            let text = `R√âSULTATS DU QUESTIONNAIRE DE FORMATIONS MANAG√âRIALES\n`;
            text += `=================================================\n\n`;
            text += `Score Global: ${totalScore}/${maxTotalScore} (${globalPercentage}%)\n\n`;

            // Calculer les scores par formation
            const formationScores = {};
            const formationMaxScores = {};
            Object.keys(formations).forEach(formation => {
                formationScores[formation] = 0;
                formationMaxScores[formation] = 0;
            });

            questions.forEach(q => {
                const score = responses[q.num] || 0;
                q.formations.forEach(formation => {
                    formationScores[formation] += score;
                    formationMaxScores[formation] += 5;
                });
            });

            const results = [];
            Object.keys(formations).forEach(formation => {
                const score = formationScores[formation];
                const maxScore = formationMaxScores[formation];
                const percentage = maxScore > 0 ? (score / maxScore) * 100 : 0;
                
                let priority;
                if (percentage < 25) priority = "Critique";
                else if (percentage < 60) priority = "Elev√©e";
                else if (percentage < 90) priority = "Am√©lioration possible";
                else priority = "Comp√©tence √©tablie";

                results.push({ formation, score, maxScore, percentage: percentage.toFixed(1), priority, theme: formations[formation].theme });
            });

            results.sort((a, b) => {
                const priorityOrder = { "Critique": 0, "Elev√©e": 1, "Am√©lioration possible": 2, "Comp√©tence √©tablie": 3 };
                return priorityOrder[a.priority] - priorityOrder[b.priority];
            });

            // Grouper par th√®me
            const byTheme = {};
            results.forEach(r => {
                if (!byTheme[r.theme]) byTheme[r.theme] = [];
                byTheme[r.theme].push(r);
            });

            Object.keys(byTheme).forEach(theme => {
                text += `\n${theme}\n${'='.repeat(theme.length)}\n`;
                byTheme[theme].forEach(r => {
                    text += `\n${r.formation}\n`;
                    text += `  Score: ${r.score}/${r.maxScore} (${r.percentage}%)\n`;
                    text += `  Priorit√©: ${r.priority}\n`;
                });
            });

            text += `\n\nD√©tail des r√©ponses:\n${'='.repeat(20)}\n`;
            questions.forEach(q => {
                text += `\n${q.num}: ${responses[q.num] || 'Non r√©pondu'} points\n`;
            });

            // Cr√©er et t√©l√©charger le fichier
            const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'resultats_questionnaire_formations.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialiser au chargement
        window.onload = init;
    </script>
</body>
</html>
